<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="TickDown.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:TickDown"
    xmlns:converters="using:TickDown.Converters"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Page.Resources>
    <Page.Content>
        <Grid Padding="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,40">
                <TextBlock Text="⏱️"
                        FontSize="32"
                        VerticalAlignment="Center"
                        Margin="0,0,10,0"/>
                <TextBlock Text="TickDown Timer"
                        FontSize="32"
                        FontWeight="Bold"
                        VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Main Timer Display -->
            <Grid Grid.Row="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="40"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Timer Name -->
                <TextBox Grid.Row="0"
                         Text="{Binding TimerName, Mode=TwoWay}"
                         FontSize="20"
                         HorizontalAlignment="Center"
                         Width="300"
                         PlaceholderText="Timer Name"/>

                <!-- Timer Display -->
                <TextBlock Grid.Row="2"
                           Text="{Binding TimeDisplay, Mode=OneWay}"
                           FontSize="72"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           FontFamily="Consolas"/>

                <!-- Progress Bar -->
                <ProgressBar Grid.Row="4"
                             Value="{Binding ProgressPercentage, Mode=OneWay}"
                             Maximum="100"
                             Width="400"
                             Height="8"/>
            </Grid>

            <!-- Time Input Controls -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="20"
                        Margin="0,40,0,20"
                        Visibility="{Binding IsRunning, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Inverse}">

                <!-- Hours -->
                <StackPanel Orientation="Vertical"
                        Spacing="5">
                    <TextBlock Text="Hours"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Opacity="0.8"/>
                    <NumberBox Value="{Binding Hours, Mode=TwoWay}"
                               Minimum="0"
                               Maximum="23"
                               Width="80"/>
                </StackPanel>

                <!-- Minutes -->
                <StackPanel Orientation="Vertical"
                        Spacing="5">
                    <TextBlock Text="Minutes"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Opacity="0.8"/>
                    <NumberBox Value="{Binding Minutes, Mode=TwoWay}"
                               Minimum="0"
                               Maximum="59"
                               Width="80"/>
                </StackPanel>

                <!-- Seconds -->
                <StackPanel Orientation="Vertical"
                        Spacing="5">
                    <TextBlock Text="Seconds"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Opacity="0.8"/>
                    <NumberBox Value="{Binding Seconds, Mode=TwoWay}"
                               Minimum="0"
                               Maximum="59"
                               Width="80"/>
                </StackPanel>
            </StackPanel>

            <!-- Control Buttons and Quick Timers -->
            <StackPanel Grid.Row="3"
                    Spacing="20">

                <!-- Timer Control Buttons -->
                <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="15">
                    <Button Command="{Binding StartTimerCommand}"
                            Content="▶️ Start"
                            Style="{StaticResource AccentButtonStyle}"
                            Visibility="{Binding IsRunning, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Inverse}"/>

                    <Button Command="{Binding PauseTimerCommand}"
                            Content="⏸️ Pause"
                            Visibility="{Binding IsRunning, Converter={StaticResource BoolToVisibilityConverter}}"/>

                    <Button Command="{Binding StopTimerCommand}"
                            Content="⏹️ Stop"/>

                    <Button Command="{Binding ResetTimerCommand}"
                            Content="🔄 Reset"/>
                </StackPanel>

                <!-- Quick Timer Buttons -->
                <TextBlock Text="Quick Timers"
                        HorizontalAlignment="Center"
                        FontSize="16"
                        FontWeight="SemiBold"
                        Margin="0,20,0,10"/>
                <StackPanel HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="5">
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="1min"
                            Content="1 min"
                            Margin="5"/>
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="5min"
                            Content="5 min"
                            Margin="5"/>
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="10min"
                            Content="10 min"
                            Margin="5"/>
                </StackPanel>
                <StackPanel HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="5"
                        Margin="0,5,0,0">
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="15min"
                            Content="15 min"
                            Margin="5"/>
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="30min"
                            Content="30 min"
                            Margin="5"/>
                    <Button Command="{Binding SetQuickTimerCommand}"
                            CommandParameter="1hour"
                            Content="1 hour"
                            Margin="5"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Page.Content>
</Page>
